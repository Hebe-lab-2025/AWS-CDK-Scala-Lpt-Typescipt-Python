
```
history
    1  docker --version
    2  ibmcloud
    3  [ ! -d 'CC201' ] && git clone https://github.com/ibm-developer-skills-network/CC201.git
    4  cd CC201/labs/1_ContainersAndDocker/
    5  ls
    6  docker images
    7  docker pull hello-world
    8  docker images
    9  docker run hello-world
   10  docker ps -a
   11  docker container rm <container_id>
   12  docker container rm dd8f6498d3bc
   13  docker ps -a
   14  docker build . -t myimage:v1
   15  docker images
   16  docker run -dp 8080:8080 myimage:v1
   17  curl localhost:8080
   18  docker stop $(docker ps -q)
   19  docker ps
   20  ibmcloud target
   21  ibmcloud cr namespaces
   22  ibmcloud cr region-set us-south
   23  ibmcloud cr login
   24  export MY_NAMESPACE=sn-labs-$USERNAME
   25  export MY_NAMESPACE=sn-labs-mzhang241 # å¹¶ä¸éœ€è¦æ”¹è‡ªå·±çš„alias
   26  docker tag myimage:v1 us.icr.io/$MY_NAMESPACE/hello-world:1
   27  docker push us.icr.io/$MY_NAMESPACE/hello-world:1
   28  ibmcloud cr images
   29  ibmcloud cr images --restrict mzhang241  # å¹¶ä¸éœ€è¦æ”¹è‡ªå·±çš„alias
   30  ibmcloud cr images --restrict $MY_NAMESPACE
   31  history
theia@theiadocker-mzhang241:/home/project/CC201/labs/1_Containers
AndDocker$ 

```


å¾ˆå¥½ï¼Œè¿™ä¸€æ•´æ®µ history åŸºæœ¬è®°å½•äº†ä½ ä»Šå¤©å®Œæ•´çš„ Docker + IBM Cloud Container Registry å®è·µæµç¨‹ã€‚æˆ‘æŒ‰é˜¶æ®µå¸®ä½ åˆ†æä¸€ä¸‹ä½ åšäº†ä»€ä¹ˆ ğŸ‘

â¸»

âœ… Todayâ€™s Work â€“ What You Accomplished

ğŸ³ Part 1 â€” Local Docker Basics

ä½ å®Œæˆäº†å®Œæ•´çš„ Docker å…¥é—¨æµç¨‹ï¼š

âœ” æ£€æŸ¥å·¥å…·
- ```docker --version```
- ```ibmcloud```

âœ” æ‹‰ä»£ç 
- å…‹éš†è¯¾ç¨‹ä»“åº“
- è¿›å…¥ lab ç›®å½•

âœ” ç»ƒä¹  Docker åŸºæœ¬å‘½ä»¤


| Step | Command                 | Meaning        |
|------|--------------------------|----------------|
| 1    | `docker images`          | æŸ¥çœ‹æœ¬åœ°é•œåƒ   |
| 2    | `docker pull hello-world`| ä¸‹è½½é•œåƒ       |
| 3    | `docker run hello-world` | è¿è¡Œå®¹å™¨       |
| 4    | `docker ps -a`           | æŸ¥çœ‹å†å²å®¹å™¨   |
| 5    | `docker rm <container>`  | åˆ é™¤å®¹å™¨       |

ğŸ‘‰ ä½ ç¡®è®¤äº†ï¼šDocker å®‰è£…æˆåŠŸ + èƒ½è¿è¡Œå®¹å™¨

â¸»

ğŸ›  Part 2 â€” Build Your Own Image

ä½ ä» Dockerfile æ„å»ºäº†è‡ªå·±çš„é•œåƒï¼š

```docker build . -t myimage:v1```

ç„¶åï¼š
- ```docker images``` â†’ ç¡®è®¤é•œåƒå­˜åœ¨
- ```docker run -dp 8080:8080 myimage:v1``` â†’ åå°å¯åŠ¨ Web æœåŠ¡
- ```curl localhost:8080``` â†’ æˆåŠŸè®¿é—®

ğŸ‘‰ è¯´æ˜ä½ å·²ç»ä¼šï¼š
- åŸºäº Dockerfile æ„å»ºé•œåƒ
- è¿è¡Œ Node.js å®¹å™¨åº”ç”¨
- åšç«¯å£æ˜ å°„
- API æµ‹è¯•

â¸»

â˜ï¸ Part 3 â€” Push to IBM Cloud Container Registry

è¿™éƒ¨åˆ†æ˜¯äº‘ç«¯é•œåƒä»“åº“æ“ä½œ âœ”

- âœ” è®¾ç½®ç›®æ ‡ region

```ibmcloud target
ibmcloud cr region-set us-south```

- âœ” ç™»å½• IBM Container Registry

```ibmcloud cr login```

- âœ” è®¾ç½®å‘½åç©ºé—´å˜é‡

export MY_NAMESPACE=sn-labs-mzhang241

- âœ” ç»™é•œåƒæ‰“ tagï¼ˆæ”¹æˆäº‘ç«¯åœ°å€ï¼‰

```docker tag myimage:v1 us.icr.io/$MY_NAMESPACE/hello-world:1```

- âœ” æ¨é€é•œåƒåˆ° IBM Cloud

```docker push us.icr.io/$MY_NAMESPACE/hello-world:1```

- âœ” æŸ¥çœ‹ä»“åº“é•œåƒ
```
ibmcloud cr images
ibmcloud cr images --restrict $MY_NAMESPACE
```

ğŸ‘‰ ä½ å·²ç»å®Œæˆï¼š
- æœ¬åœ°é•œåƒ â†’ äº‘ç«¯é•œåƒä»“åº“ä¸Šä¼ 
- ç†Ÿæ‚‰ IBM Cloud Container Registry
- ä¼šä½¿ç”¨ namespace + repo è·¯å¾„è§„åˆ™

â¸»

â­ Overall Summary

ä»Šå¤©ä½ å®Œæˆäº† å®Œæ•´ DevOps mini workflow

| é˜¶æ®µ | ä½ å®Œæˆçš„å†…å®¹ |
|------|--------------|
| Docker åŸºç¡€ | runã€pullã€psã€rm |
| å®¹å™¨åº”ç”¨ | Node.js app in Docker |
| é•œåƒæ„å»º | docker build |
| ç«¯å£è®¿é—® | curl localhost |
| åœæ­¢æœåŠ¡ | docker stop |
| äº‘ç«¯ Registry | ç™»å½• IBM Cloud |
| é•œåƒæ¨é€ | docker push |
| å‘½åç©ºé—´ | ç¯å¢ƒå˜é‡ namespace |
| é•œåƒæŸ¥è¯¢ | cr images |

ğŸ‘‰ è¿™å·²ç»æ˜¯åˆçº§ SRE / DevOps / Cloud Engineeræ¯æ—¥å·¥ä½œå†…å®¹çš„çœŸå®å­é›† ğŸ¯
ğŸ‘‰ ç‰¹åˆ«è´´åˆ IBM Cloud / AWS / Kubernetes å­¦ä¹ è·¯å¾„

â¸»

ğŸ”¥ If you want next, I can help you:
- éƒ¨ç½²åˆ° IBM Code Engineï¼ˆæ— æœåŠ¡å™¨å®¹å™¨ï¼‰
- éƒ¨ç½²åˆ° Kubernetes
- è§£é‡Š .Dockerfile æ¯ä¸€è¡Œ
- æ•…éšœæ’æŸ¥ç»ƒä¹ ï¼ˆé¢è¯•å¾ˆå¸¸è§ï¼‰
- è®¾è®¡ CI/CD pipeline
- å†™é¡¹ç›®ç»å† bullet pointsï¼ˆç®€å†ï¼‰

åªè¦å‘Šè¯‰æˆ‘ä¸€å¥ï¼šâ€œä¸‹ä¸€æ­¥åšä»€ä¹ˆâ€ ğŸ˜Š
