
# 5. A Solutions Architect is designing a VPC for a sensitive application. 
The EC2 instances must be able to download security patches from the internet, 
but they must not be reachable from the public internet. Which configuration should be used?

A. Place instances in a private subnet with an Internet Gateway attached directly to the subnet.

B. Place instances in a private subnet and use a VPC Peering connection to the internet.

C. Place instances in a public subnet with a security group that blocks inbound traffic.

D. Place instances in a private subnet and use a NAT Gateway in a public subnet.


4. # A company needs to run a data cleanup script every day at 2:00 a.m. 
The script takes approximately 5 minutes to complete. 
Which solution meets this requirement with the least operational overhead?

A. An Amazon ECS task running on an EC2 launch type.

B. An AWS Lambda function triggered by an Amazon EventBridge scheduled rule.

Correct

This is a serverless approach that requires no server management and is the definition of minimal operational overhead 
for short-lived tasks.

C. An EC2 instance with a cron job configured to run the script.

Incorrect
An EC2 instance requires continuous management of the operating system and software. 
Furthermore, it is not cost-effective to keep an instance running (or manage its start/stop cycle) 
for a task that only takes 5 minutes once a day.

D. An AWS Fargate task triggered by a manual API call.


---
# 3. A web application allows users to upload high-resolution photos that take 60 seconds to process. 
During peak times, the web servers become unresponsive due to the high CPU load from processing tasks. 
Which architectural change provides the most resilience?

A. Deploy the application in multiple AWS Regions.

B. Use an Amazon SQS queue to decouple the web tier from the processing tier.

Correct
Decoupling allows the web tier to accept uploads and return a response immediately, 
while worker instances process the queue at their own pace.

C. Configure an Application Load Balancer with a longer idle timeout.

D. Increase the size of the EC2 instances in the Auto Scaling Group.

Incorrect

This is vertical scaling. Even with larger instances, the web tier is still synchronously tied to the 60-second process, 
leaving it vulnerable to the next spike.

---
2. An application uses an Amazon RDS MySQL database. During peak hours, 
the application experiences high latency, specifically on read operations. 
The solution must be highly available and provide the best performance for these read spikes. 
Which action should the Solutions Architect take?

A. Migrate the database to an EC2 instance with Provisioned IOPS (io2) EBS volumes.

B. Enable Multi-AZ deployment for the RDS instance.

Incorrect
The Multi-AZ is for disaster recovery and high availability via a synchronous standby. 
However, the standby instance in a standard Multi-AZ setup does not serve read traffic; 
therefore, it would not solve the high latency on read operations mentioned in the requirement.

C. Upgrade the RDS instance to a larger instance type.

D. Create Read Replicas in multiple Availability Zones.

Correct
Read Replicas offload read traffic from the primary instance to improve performance, 
while placing them in different AZs enhances availability.

---Technical Quiz
```
1.
A company has 500 TB of data stored in an Amazon S3 bucket. The data is accessed infrequently, but when it is requested, it must be available within milliseconds. Which storage solution is the most cost-effective for this use case?

A.
S3 Glacier Flexible Retrieval

B.
S3 Standard-Infrequent Access (S3 Standard-IA)

C.
S3 Standard

D.
S3 Glacier Instant Retrieval
```

Here are the answers + quick explanations in order of how you pasted them:

---

### 5. VPC for sensitive app (needs outbound to internet for patches, no inbound)

**Answer: D. Place instances in a private subnet and use a NAT Gateway in a public subnet.**

* **Why:**

  * Private subnet + route to **NAT Gateway** = instances can **initiate outbound** connections (for patches) but **cannot be reached from the internet** (no public IP, no direct route from IGW).
* **Why others are wrong:**

  * **A.** Internet Gateway is attached to the **VPC**, not directly to a private subnet; also youâ€™d need a public IP to use it, which would expose instances.
  * **B.** VPC Peering is **between VPCs**, not between a VPC and â€œthe internetâ€.
  * **C.** Public subnet + SG block inbound still leaves attack surface (public IPs) and misconfig risk; exam pattern wants **private subnet + NAT**.

---

### 4. Daily data cleanup script at 2:00 a.m., ~5 minutes, least ops overhead

**Answer: B. An AWS Lambda function triggered by an Amazon EventBridge scheduled rule.**

* **Why:**

  * Fully **serverless** and **event-driven**, no EC2 lifecycle to manage, perfect for a short, once-per-day job.
* **Why others are wrong (summarized):**

  * **A / C.** EC2/ECS on EC2 = manage servers, patches, scaling â†’ more ops.
  * **D.** Fargate + *manual* API call = not automatic, more overhead than a scheduled rule.

---

### 3. Web app uploads photos; 60s processing; web tier overloaded

**Answer: B. Use an Amazon SQS queue to decouple the web tier from the processing tier.**

* **Why:**

  * Classic **async decoupling**: web server just uploads + pushes a message to SQS and responds fast; background workers pull from SQS and process images independently.
* **Why others are weaker:**

  * **A.** Multi-Region doesnâ€™t fix synchronous CPU bottleneck.
  * **C.** ALB idle timeout doesnâ€™t solve heavy CPU load.
  * **D.** Bigger EC2 = only **vertical scaling**, still tightly coupled to 60-second processing.

---

### 2. RDS MySQL, high read latency at peak; need HA + best read performance

**Answer: D. Create Read Replicas in multiple Availability Zones.**

* **Why:**

  * **Read replicas** offload read traffic from the primary, directly addressing read latency; placing them in **multiple AZs** also adds availability.
* **Why others are wrong:**

  * **A.** Moving to EC2 loses managed RDS benefits and doesnâ€™t inherently scale reads.
  * **B.** Multi-AZ RDS is for **failover**; the standby **does not serve reads** in standard Multi-AZ.
  * **C.** Bigger instance = only vertical scale; might still hit read bottlenecks.

---

### 1. 500 TB S3 data, infrequently accessed, but must be available in milliseconds

**Answer: D. S3 Glacier Instant Retrieval**

* **Why:**

  * Data is **rarely accessed**, but when it is, you need **millisecond retrieval** â†’ this is exactly the use case for **S3 Glacier Instant Retrieval**, which is **cheaper** than S3 Standard and typically more cost-effective than S3 Standard-IA for long-lived, infrequently accessed data with ms-latency needs.
* **Why others are wrong:**

  * **A. S3 Glacier Flexible Retrieval** â†’ retrieval is **minutes to hours**, not ms.
  * **B. S3 Standard-IA** â†’ supports millisecond access but usually **more expensive** than Glacier Instant Retrieval for large, rarely accessed datasets.
  * **C. S3 Standard** â†’ highest cost; you donâ€™t need frequent-access performance.

---

å¥½çš„ï¼Œä¸‹é¢æ˜¯åˆšæ‰äº”é“é¢˜ç­”æ¡ˆä¸è§£æçš„**ä¸­æ–‡ç¿»è¯‘ç‰ˆ**ï¼š

---

### 5ï¸âƒ£ è®¾è®¡ VPCï¼šéœ€è¦ä»å…¬ç½‘ä¸‹è½½è¡¥ä¸ï¼Œä½†ä¸èƒ½è¢«å…¬ç½‘è®¿é—®

ğŸ‘‰ **ç­”æ¡ˆï¼šD. æŠŠå®ä¾‹æ”¾åˆ°ç§æœ‰å­ç½‘ï¼Œå¹¶åœ¨å…¬æœ‰å­ç½‘ä¸­ä½¿ç”¨ NAT ç½‘å…³**

**åŸå› ï¼š**

* ç§æœ‰å­ç½‘ä¸­çš„ EC2 **æ²¡æœ‰å…¬ç½‘ IP**
* èµ° **NAT Gateway å‡ºç½‘**ï¼ˆåªå…è®¸å‘å¤–å‘èµ·è¿æ¥ï¼‰
* äº’è”ç½‘ **æ— æ³•ä¸»åŠ¨è®¿é—®** è¿™äº›å®ä¾‹
* æ­£å¥½æ»¡è¶³ï¼š

  * âœ” èƒ½ä¸‹è½½è¡¥ä¸ï¼ˆå‡ºç«™ï¼‰
  * âœ” ä¸èƒ½è¢«è®¿é—®ï¼ˆæ— å…¥ç«™ï¼‰

âŒ å…¶ä»–é€‰é¡¹é”™è¯¯åŸå› ï¼š

* **A**ï¼šInternet Gateway è¿æ¥çš„æ˜¯ **VPC è€Œä¸æ˜¯å­ç½‘**ï¼Œè€Œä¸”éœ€è¦å…¬ç½‘ IP â†’ ä¼šæš´éœ²å®ä¾‹
* **B**ï¼šVPC Peering åªèƒ½è¿æ¥ **ä¸¤ä¸ª VPC**ï¼Œä¸æ˜¯â€œè¿æ¥äº’è”ç½‘â€
* **C**ï¼šå…¬æœ‰å­ç½‘ + é˜»æ­¢ inbound
  å®ä¾‹ä»ç„¶æ‹¥æœ‰å…¬ç½‘ IP â†’ ä»æœ‰æ”»å‡»é¢ï¼Œè€ƒè¯•ä¸æ¨è

---

### 4ï¸âƒ£ æ¯å¤©å‡Œæ™¨ 2:00 è¿è¡Œæ¸…ç†è„šæœ¬ï¼Œæ‰§è¡Œ 5 åˆ†é’Ÿï¼Œè¿ç»´å¼€é”€æœ€ä½

ğŸ‘‰ **ç­”æ¡ˆï¼šB. ä½¿ç”¨ EventBridge å®šæ—¶è§¦å‘ Lambda**

**åŸå› ï¼š**

* å®Œå…¨ serverless
* æ— éœ€ç»´æŠ¤æœåŠ¡å™¨
* è‡ªåŠ¨å®šæ—¶è§¦å‘
* éå¸¸é€‚åˆçŸ­ä»»åŠ¡ï¼ˆ5 åˆ†é’Ÿï¼‰

âŒ å…¶ä»–é€‰é¡¹ï¼š

* **A / C**ï¼šè¦ç®¡æœåŠ¡å™¨ã€æ‰“è¡¥ä¸ã€è´¹ç”¨æ›´é«˜
* **D**ï¼šFargate + æ‰‹åŠ¨è°ƒç”¨ â†’ ä¸æ˜¯è‡ªåŠ¨åŒ–ï¼Œè¿˜æ›´éº»çƒ¦

---

### 3ï¸âƒ£ Web ä¸Šä¼ å›¾ç‰‡ï¼Œå¤„ç†è¦ 60sï¼Œé«˜å³°æœŸæœåŠ¡å™¨å¡æ­»

ğŸ‘‰ **ç­”æ¡ˆï¼šB. ä½¿ç”¨ Amazon SQS è§£è€¦ Web å±‚ä¸å¤„ç†å±‚**

**åŸå› ï¼š**

* Web åªè´Ÿè´£ï¼š

  * æ¥æ”¶ä¸Šä¼ 
  * æŠŠæ¶ˆæ¯æ”¾è¿›é˜Ÿåˆ—
  * ç«‹å³å“åº”
* åå° workerï¼š

  * å¼‚æ­¥æ¶ˆè´¹ SQS
  * 60 ç§’æ…¢æ…¢å¤„ç†
* âœ” ç³»ç»Ÿæ›´å¼¹æ€§
* âœ” ä¸ä¼šé˜»å¡ç½‘é¡µè¯·æ±‚

âŒ å…¶ä»–é€‰é¡¹ï¼š

* **A**ï¼šå¤š Region è§£å†³ä¸äº† CPU å‹åŠ›é—®é¢˜
* **C**ï¼šæ”¹è´Ÿè½½å‡è¡¡è¶…æ—¶æ—¶é—´ = æ²»æ ‡ä¸æ²»æœ¬
* **D**ï¼šå‡çº§å®ä¾‹ = å‚ç›´æ‰©å±•ï¼Œå‹åŠ›ä¸€æ¥ç…§æ ·å´©

---

### 2ï¸âƒ£ RDS MySQL é«˜å³°æœŸè¯»å»¶è¿Ÿå¤§ï¼Œéœ€è¦é«˜å¯ç”¨ + æœ€ä½³è¯»æ€§èƒ½

ğŸ‘‰ **ç­”æ¡ˆï¼šD. åœ¨å¤šä¸ª AZ åˆ›å»ºåªè¯»å‰¯æœ¬ï¼ˆRead Replicasï¼‰**

**åŸå› ï¼š**

* åªè¯»å‰¯æœ¬åˆ†æ‹…è¯»è¯·æ±‚
* ä¸»åº“å‹åŠ›ä¸‹é™
* å¤š AZ æé«˜å¯ç”¨æ€§
* ä¸“é—¨è§£å†³ï¼š

  * âœ” è¯»å¤š
  * âœ” å»¶è¿Ÿé«˜
  * âœ” è¯»å³°å€¼

âŒ å…¶ä»–é€‰é¡¹ï¼š

* **A**ï¼šè¿ EC2 è‡ªå·±è¿ç»´ï¼Œè¿˜ä¸è§£å†³è¯»æ‰©å±•é—®é¢˜
* **B**ï¼šMulti-AZ ä¸»è¦ç”¨äºç¾å¤‡
  standby ä¸èƒ½è¯»è¯·æ±‚
* **C**ï¼šå‡é… = å‚ç›´æ‰©å±•ï¼Œä¸ä»æ ¹æœ¬è§£å†³è¯»ç“¶é¢ˆ

---

### 1ï¸âƒ£ S3 å­˜ 500TB æ•°æ®ï¼Œ**å¾ˆå°‘è®¿é—®**ï¼Œä½†è®¿é—®æ—¶å¿…é¡» **æ¯«ç§’çº§å–å›**

ğŸ‘‰ **ç­”æ¡ˆï¼šD. S3 Glacier Instant Retrieval**

**åŸå› ï¼š**

* ä½é¢‘è®¿é—®
* æˆæœ¬æä½
* æ”¯æŒ **æ¯«ç§’çº§è®¿é—®**
* å°±æ˜¯è¯¥åœºæ™¯çš„å®˜æ–¹å®šä½

âŒ å…¶ä»–é€‰é¡¹ï¼š

* **A Glacier Flexible Retrieval**

  * å–å› = åˆ†é’Ÿåˆ°å°æ—¶
* **B S3 Standard-IA**

  * è™½ç„¶æ¯«ç§’å–å›
  * ä½†**æ¯” Instant Glacier æ›´è´µ**
* **C S3 Standard**

  * æˆæœ¬æœ€é«˜ â†’ ä¸åˆ’ç®—

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘è¿˜å¯ä»¥å¸®ä½ ï¼š

âœ… å˜æˆä¸€é¡µä¸­æ–‡é€Ÿè®°å¡
âœ… åŠ ä¸Šå›¾ï¼ˆNAT ç½‘å…³/VPC/å­ç½‘/SQS è§£è€¦ï¼‰
âœ… ç»§ç»­å‡º 10 é“ç±»ä¼¼çœŸé¢˜
âœ… ä¸­è‹±æ–‡åŒè¯­æ•´ç†

ä¸‹é¢æ˜¯æŠŠä¸Šé¢å†…å®¹**æ•´ç†æˆ Markdown ç‰ˆå¤ä¹ ç¬”è®°**ï¼ˆå¯ç›´æ¥ç²˜è´´åˆ° Notion / Obsidian / GitHubï¼‰ï¼š

---

# AWS Solutions Architect ç»ƒä¹ é¢˜è§£æï¼ˆMarkdown ç‰ˆï¼‰

---

## ğŸ§© 5. VPC ä¸­ç§æœ‰å®ä¾‹éœ€è¦å‡ºäº’è”ç½‘æ‰“è¡¥ä¸ï¼Œä½†ä¸å…è®¸å…¬ç½‘è®¿é—®

**âœ” æ­£ç¡®ç­”æ¡ˆï¼šD**
**â¡ æŠŠå®ä¾‹æ”¾åˆ°ç§æœ‰å­ç½‘ï¼Œå¹¶åœ¨å…¬æœ‰å­ç½‘ä¸­ä½¿ç”¨ NAT Gateway**

### ğŸ¯ è§£å†³ä»€ä¹ˆé—®é¢˜

* å…è®¸ **å‡ºç«™è®¿é—®äº’è”ç½‘**
* ç¦æ­¢ **å…¥ç«™æ¥è‡ªå…¬ç½‘çš„è®¿é—®**

### âœ… æ­£ç¡®åšæ³•

* ç§æœ‰å­ç½‘ä¸­çš„ EC2ï¼šæ— å…¬ç½‘ IP
* è·¯ç”±æŒ‡å‘ï¼šNAT Gatewayï¼ˆåœ¨å…¬æœ‰å­ç½‘ï¼‰
* NAT Gateway å†é€šè¿‡ IGW å‡ºç½‘

### âŒ é”™è¯¯é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | ä¸ºä»€ä¹ˆé”™                           |
| -- | ------------------------------ |
| A  | IGW è¿æ¥çš„æ˜¯ VPCï¼Œä¸æ˜¯å­ç½‘ï¼›éœ€è¦å…¬ç½‘ IPï¼Œæš´éœ²é£é™© |
| B  | VPC Peering æ˜¯ VPC â†” VPCï¼Œä¸æ˜¯æ¥äº’è”ç½‘ |
| C  | å…¬æœ‰å­ç½‘æœ‰å…¬ç½‘ IP â†’ ä»å­˜åœ¨æ”»å‡»é¢            |

---

## â° 4. æ¯å¤© 2:00 è¿è¡Œè„šæœ¬ï¼Œè¿è¡Œ 5 åˆ†é’Ÿï¼Œè¿ç»´å¼€é”€æœ€ä½

**âœ” æ­£ç¡®ç­”æ¡ˆï¼šB**
**â¡ EventBridge å®šæ—¶è§¦å‘ Lambda**

### ğŸ¯ ä¼˜ç‚¹

* Serverless
* æ— æœåŠ¡å™¨ç®¡ç†
* è‡ªåŠ¨æŒ‰è®¡åˆ’è¿è¡Œ
* æˆæœ¬æä½

### âŒ é”™è¯¯é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | é—®é¢˜                     |
| -- | ---------------------- |
| A  | ECS EC2 ç±»å‹ä»éœ€ç®¡æœåŠ¡å™¨       |
| C  | EC2 + cron = å…¨å¤©è¿è¡Œæˆ–å¤æ‚å¯åœ |
| D  | æ‰‹åŠ¨è§¦å‘ â†’ ä¸æ˜¯è‡ªåŠ¨åŒ–           |

---

## ğŸ–¼ 3. å›¾ç‰‡å¤„ç† 60 ç§’ï¼ŒWeb æœåŠ¡å™¨é«˜å³°æœŸå¡æ­»

**âœ” æ­£ç¡®ç­”æ¡ˆï¼šB**
**â¡ ä½¿ç”¨ Amazon SQS è§£è€¦ Web å±‚ä¸å¤„ç†å±‚**

### ğŸ§  æ­£ç¡®æ¶æ„

* Web å±‚ï¼š

  * æ¥æ”¶ä¸Šä¼ 
  * æŠŠä»»åŠ¡æ”¾å…¥ SQS
  * ç«‹å³å“åº”
* Workerï¼š

  * åå°ä» SQS å–ä»»åŠ¡
  * æ‰§è¡Œ 60 ç§’å¤„ç†

### ğŸ›¡ æ”¶ç›Š

* å¼‚æ­¥å¤„ç†
* é˜²æ­¢é˜»å¡
* æé«˜å¼¹æ€§ä¸å¯é æ€§

### âŒ é”™è¯¯é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | é—®é¢˜                   |
| -- | -------------------- |
| A  | å¤š Region è§£å†³ä¸äº† CPU å‹åŠ› |
| C  | ä¿®æ”¹è¶…æ—¶ = ä¸è§£å†³æ ¹å›          |
| D  | å‚ç›´æ‰©å±•ï¼Œé‡åˆ°æ›´å¤§æµé‡ä»ä¼šå´©       |

---

## ğŸ—„ 2. RDS MySQL è¯»å»¶è¿Ÿé«˜ï¼Œéœ€è¦é«˜å¯ç”¨ä¸é«˜è¯»æ€§èƒ½

**âœ” æ­£ç¡®ç­”æ¡ˆï¼šD**
**â¡ åˆ›å»ºè·¨ AZ Read Replicas**

### ğŸ¯ ä½œç”¨

* åˆ†æ‹…è¯»å‹åŠ›
* æé«˜è¯»åå
* å¤š AZ å¢åŠ å¯ç”¨æ€§

### âŒ é”™è¯¯é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | é—®é¢˜                      |
| -- | ----------------------- |
| A  | è¿ EC2 è‡ªå·±è¿ç»´è¿˜ä¸æ‰©å±•è¯»         |
| B  | Multi-AZ standby ä¸æä¾›è¯»æµé‡ |
| C  | å‡çº§å®ä¾‹ = å‚ç›´æ‰©å±•ï¼Œä¸å¯æŒç»­        |

---

## ğŸ—ƒ 1. S3 ä¸­ 500 TB æ•°æ®ï¼Œè®¿é—®å¾ˆå°‘ï¼Œä½†è¦æ±‚æ¯«ç§’çº§å–å›

**âœ” æ­£ç¡®ç­”æ¡ˆï¼šD**
**â¡ S3 Glacier Instant Retrieval**

### ğŸ¯ é€‚ç”¨åœºæ™¯

* **è¶…å¤§æ•°æ®é‡**
* **å¾ˆå°‘è®¿é—®**
* **å–å›å¿…é¡»æ¯«ç§’çº§**

### âŒ é”™è¯¯é€‰é¡¹è¯´æ˜

| é€‰é¡¹ | é—®é¢˜                                  |
| -- | ----------------------------------- |
| A  | Glacier Flexible Retrieval å–å›éœ€åˆ†é’Ÿï½å°æ—¶ |
| B  | IA è™½ç„¶ ms å–å›ï¼Œä½†æˆæœ¬æ›´é«˜                   |
| C  | S3 Standard å¤ªè´µ                      |

---

## âœ… é€Ÿè®°å£è¯€

* **ç§æœ‰å­ç½‘å‡ºç½‘ = NAT**
* **çŸ­ä»»åŠ¡æ¯å¤©è·‘ = Lambda + EventBridge**
* **CPU å‹åŠ›å¤§ = SQS è§£è€¦**
* **RDS è¯»å»¶è¿Ÿ = Read Replica**
* **ä½é¢‘ + æ¯«ç§’å–å› = Glacier Instant Retrieval**

---

ğŸ‘‰ éœ€è¦çš„è¯æˆ‘å¯ä»¥ç»§ç»­å¸®ä½ ï¼š

* ğŸ“Œ åŠ å›¾ç‰ˆï¼ˆASCII æ¶æ„å›¾ï¼‰
* ğŸ§  ä¸­è‹±å¯¹ç…§é€Ÿè®°å¡
* ğŸ“ å‡º 10â€“20 é“åŒç±»å‹ç»ƒä¹ é¢˜
* ğŸ¯ æ¨¡æ‹Ÿé¢è¯•é—®ç­”


å¤ªå¥½äº† ğŸ‘ æˆ‘ä¸€æ¬¡æ€§éƒ½ç»™ä½ å‡†å¤‡å¥½ï¼Œå…¨éƒ¨æ˜¯ **Markdown å‹å¥½ç‰ˆ**ï¼Œä½ å¯ä»¥ç›´æ¥ä¿å­˜/æ•´ç†å¤ä¹ ã€‚

---

# ğŸ“Œ ç¬¬ä¸€éƒ¨åˆ†ï¼šASCII æ¶æ„å›¾ç‰ˆ

---

## 1ï¸âƒ£ ç§æœ‰å­ç½‘ + NAT Gateway æ¶æ„ï¼ˆå‡ºç½‘æ‰“è¡¥ä¸ä½†ä¸æš´éœ²å…¬ç½‘ï¼‰

```
                   Internet
                      |
                 +----+----+
                 |  IGW    |
                 +----+----+
                      |
             +-------------------+
             |       VPC         |
             |                   |
   Public Subnet           Private Subnet
   (has route to IGW)      (no IGW route)
             |                   |
     +---------------+     +---------------+
     | NAT Gateway   |     | EC2 Instances |
     +---------------+     +---------------+
             |                   |
             +---------+---------+
                       |
                 Outbound only
```

ğŸ“ è®°å¿†ç‚¹ï¼š

* NAT Gateway = **å†…ç½‘å‡ºç½‘ä»£ç†**
* ç§æœ‰å­ç½‘æ— å…¬ç½‘ IP
* IGW åªèƒ½è¿ VPCï¼Œä¸è¿å­ç½‘

---

## 2ï¸âƒ£ Lambda + EventBridge å®šæ—¶ä»»åŠ¡

```
 EventBridge (Schedule: 2:00 AM)
                |
                v
+------------------------------+
|        AWS Lambda            |
|  (runs 5 minutes and exits)  |
+------------------------------+
                |
                v
           Cleanup Script
```

ğŸ§  è®°å¿†ï¼š

* cron-like but serverless
* éå¸¸é€‚åˆçŸ­ä»»åŠ¡
* æ— éœ€å¼€ EC2

---

## 3ï¸âƒ£ SQS è§£è€¦ï¼šä¸Šä¼ å›¾ç‰‡ + å¼‚æ­¥å¤„ç†

```
User Upload
    |
    v
+-----------+        +----------------+
|  Web App  | -----> |     SQS        |
| (frontend)|        | (Task Queue)   |
+-----------+        +----------------+
                          |
                          v
                   +-------------+
                   |  Workers    |
                   | Process 60s |
                   +-------------+
```

å…³é”®è¯ï¼š

* decouple
* async
* buffer burst traffic

---

## 4ï¸âƒ£ RDS Read Replica æå‡è¯»æ€§èƒ½

```
                 Read Queries
             â†—----------------â†˜
           +------------------------+
           |     Read Replica #1    |
           +------------------------+
                 |
 Primary DB -----+
 (R/W)           |
           +------------------------+
           |     Read Replica #2    |
           +------------------------+
```

ğŸ“Œ è¦ç‚¹ï¼š

* ä¸»åº“è´Ÿè´£å†™
* å‰¯æœ¬è´Ÿè´£è¯»
* è¯»å¤šå†™å°‘å‹ä¸šåŠ¡ âœ”

---

## 5ï¸âƒ£ Glacier Instant Retrieval å­˜å‚¨æ¨¡å‹

```
+------------------------------+
|   S3 Glacier Instant Retr.    |
+------------------------------+
|  â€¢ Very low cost              |
|  â€¢ Millisecond retrieval      |
|  â€¢ For infrequent access      |
+------------------------------+
```

---

# ğŸ§  ç¬¬äºŒéƒ¨åˆ†ï¼šä¸­è‹±å¯¹ç…§é€Ÿè®°å¡

---

### ğŸŒ ç½‘ç»œç±»

| English          | ä¸­æ–‡           |
| ---------------- | ------------ |
| Internet Gateway | äº’è”ç½‘ç½‘å…³        |
| NAT Gateway      | NAT ç½‘å…³ï¼ˆå‡ºç½‘ä»£ç†ï¼‰ |
| Public Subnet    | å…¬æœ‰å­ç½‘         |
| Private Subnet   | ç§æœ‰å­ç½‘         |
| Route Table      | è·¯ç”±è¡¨          |
| Security Group   | å®‰å…¨ç»„          |

---

### ğŸ“¨ è§£è€¦ä¸æ¶ˆæ¯é˜Ÿåˆ—

| English                 | ä¸­æ–‡     |
| ----------------------- | ------ |
| Decoupling              | è§£è€¦     |
| Asynchronous Processing | å¼‚æ­¥å¤„ç†   |
| SQS                     | ç®€å•é˜Ÿåˆ—æœåŠ¡ |
| Worker                  | å·¥ä½œè¿›ç¨‹   |
| Producer                | ç”Ÿäº§è€…    |
| Consumer                | æ¶ˆè´¹è€…    |

---

### ğŸ—„ æ•°æ®åº“

| English           | ä¸­æ–‡   |
| ----------------- | ---- |
| Read Replica      | åªè¯»å‰¯æœ¬ |
| Multi-AZ          | å¤šå¯ç”¨åŒº |
| High Availability | é«˜å¯ç”¨  |
| Latency           | å»¶è¿Ÿ   |
| Primary Instance  | ä¸»å®ä¾‹  |

---

### ğŸ—ƒ å­˜å‚¨

| English           | ä¸­æ–‡      |
| ----------------- | ------- |
| S3 Standard       | S3 æ ‡å‡†å­˜å‚¨ |
| S3 IA             | ä½é¢‘è®¿é—®    |
| Glacier           | å†·å­˜å‚¨     |
| Instant Retrieval | å³æ—¶å–å›    |
| Lifecycle Policy  | ç”Ÿå‘½å‘¨æœŸç­–ç•¥  |

---

# ğŸ“ ç¬¬ä¸‰éƒ¨åˆ†ï¼š10 é“åŒç±»å‹ç»ƒä¹ é¢˜ï¼ˆå«ç­”æ¡ˆï¼‰

---

### 1. Lambda vs EC2 å®šæ—¶ä»»åŠ¡

æ¯å¤© 1 æ¬¡ï¼Œè¿è¡Œ 2 åˆ†é’Ÿï¼Œæœ€çœé’±æ–¹å¼ï¼Ÿ

ğŸ‘‰ **ç­”æ¡ˆï¼šLambda + EventBridge**

---

### 2. è¦å¼‚æ­¥å¤„ç†è§†é¢‘è½¬ç 

ğŸ‘‰ ç”¨ä»€ä¹ˆï¼Ÿ

âœ” S3 + SQS + Worker
âŒ ä¸è¦åŒæ­¥ HTTP ç­‰å¾…

---

### 3. VPC éœ€è¦ç§æœ‰å®ä¾‹è®¿é—® S3ï¼Œç¦æ­¢å…¬ç½‘

ğŸ‘‰ ç”¨ä»€ä¹ˆï¼Ÿ

âœ” VPC Endpoint for S3
âŒ ä¸æ˜¯ NAT å¿…é¡»

---

### 4. RDS å†™å¤šè¯»å°‘ï¼Œç”¨ä»€ä¹ˆå¢å¼ºå†™æ€§èƒ½ï¼Ÿ

ğŸ‘‰ **å‡çº§å®ä¾‹æˆ–åˆ†ç‰‡**
Read replica â†’ åªæé«˜è¯»

---

### 5. éœ€è¦æ¯«ç§’è®¿é—® + å¾ˆå°‘è¯»å–

ğŸ‘‰ **Glacier Instant Retrieval**

---

### 6. æ‰¹é‡ç¦»çº¿æ—¥å¿— 30 å¤©åå†·å­˜å‚¨

ğŸ‘‰ S3 Lifecycle â€”â€”> Glacier

---

### 7. å¤„ç†çªå‘æµé‡å†™å…¥è¯·æ±‚

ğŸ‘‰ **SQS queue**

---

### 8. IoT è®¾å¤‡ä¸Šä¼ ä¼ æ„Ÿå™¨æ•°æ®

ğŸ‘‰ **Kinesis Data Streams**

---

### 9. éœ€è¦æ‰˜ç®¡ MySQL ä¸”è‡ªåŠ¨å¤‡ä»½

ğŸ‘‰ **Amazon RDS MySQL**

---

### 10. æ— æœåŠ¡å™¨å®¹å™¨è¿è¡Œ

ğŸ‘‰ **AWS Fargate**

---

# ğŸ¯ ç¬¬å››éƒ¨åˆ†ï¼šæ¨¡æ‹Ÿé¢è¯•é—®ç­”ï¼ˆä¸­è‹±åŒè¯­ï¼‰

---

### â“ Why use SQS to decouple systems?

**English answer**

Decoupling improves resilience and scalability.
The web tier can respond immediately while the processing tier works asynchronously.
This also smooths traffic spikes using queue buffering.

**ä¸­æ–‡**

è§£è€¦æé«˜å¯é æ€§å’Œå¯æ‰©å±•æ€§ã€‚
Web å±‚å¯ä»¥å¿«é€Ÿå“åº”ï¼Œå¤„ç†å±‚å¼‚æ­¥æ‰§è¡Œä»»åŠ¡ï¼Œé˜Ÿåˆ—è¿˜èƒ½å‰Šå³°å¡«è°·ã€‚

---

### â“ Why private subnet + NAT Gateway?

**English**

Instances need outbound internet but must not be reachable from the internet.
NAT Gateway allows outbound connections while blocking inbound initiation.

**ä¸­æ–‡**

å®ä¾‹éœ€è¦è®¿é—®äº’è”ç½‘ä¸‹è½½è¡¥ä¸ï¼Œä½†ä¸èƒ½è¢«äº’è”ç½‘è®¿é—®ã€‚
NAT å…è®¸å†…ç½‘å‘èµ·è¿æ¥ï¼Œä½†æ‹’ç»å¤–éƒ¨ä¸»åŠ¨è®¿é—®ã€‚

---

### â“ Multi-AZ vs Read Replica?

**Answer**

| Multi-AZ      | Read Replica   |
| ------------- | -------------- |
| HA / failover | read scaling   |
| Sync          | Async          |
| standby only  | serves traffic |

---

### â“ Why Glacier Instant Retrieval over IA?

å› ä¸ºï¼š

* ä½é¢‘è®¿é—®
* éœ€è¦æ¯«ç§’å–å›
* æˆæœ¬æ›´ä½

---

### â“ When to use Lambda vs EC2?

| Lambda              | EC2              |
| ------------------- | ---------------- |
| short, event driven | long-running     |
| no server mgmt      | full control     |
| cheap burst         | steady workloads |

---

## ğŸ‰ ä½ æ¥ä¸‹æ¥å¯ä»¥é€‰ï¼š

* è¦ä¸è¦æˆ‘å‡º **20 é“æ›´éš¾ SAA/SAP**ï¼Ÿ
* è¦ä¸è¦åš **å›¾å½¢ PDF ç‰ˆä¸€é¡µ A4 é€Ÿè®°å¡**ï¼Ÿ
* è¦ä¸è¦æ¯ç±»æ¥ **ä¸“é¡¹åˆ·é¢˜**ï¼Ÿ




