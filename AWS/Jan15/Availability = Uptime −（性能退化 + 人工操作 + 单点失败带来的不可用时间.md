## 🧠 一句话区分 **uptime** vs **availability**

> **Uptime** 看的是“机器活着多久”，
> **Availability** 看的是“用户有多少时间能正常用”。

---

## 🧪 3 道 **SLA / Uptime / Availability** 面试题（含答题要点）

### 1️⃣ **99.9% uptime 和 99.9% availability 是一回事吗？**

**不是。**

* Uptime：服务器在线
* Availability：**服务可用（请求成功 + 延迟达标）**
  👉 单机可能 100% uptime，但 DB 慢 / 线程打满 → availability 低

---

### 2️⃣ **SLA 写 99.9%，一年最多能宕多久？**

* 99.9% ≈ **8.76 小时/年**
  👉 面试点：SLA 是 **对客户的承诺**，通常算 availability，不是单机 uptime

---

### 3️⃣ **如何把 uptime 转成 availability？**

* 不能直接等价
* 必须引入：**冗余 + 负载均衡 + 健康检查 + 自动恢复**
  👉 架构设计问题，不是运维指标问题

---

## 🔄 结合 **EC2 单机**：为什么 **uptime 很低（对用户来说）**

> ⚠️ 这里的“低”指的是 **availability 低**，即使 uptime 看起来很高。

### 单机 EC2 的真实问题链

1. **没有冗余**

   * 实例一挂 = 服务 100% 不可用

2. **维护=中断**

   * 打补丁 / 重启 / Deploy → 必然停机

3. **性能退化 ≠ 宕机**

   * CPU 100%、内存打满、磁盘 IO 慢
   * **实例还活着（uptime=1）但用户请求失败（availability=0）**

4. **人工恢复慢**

   * 手动 SSH → 重启 → 回滚
   * MTTR 高，availability 被拉低

5. **没有健康检查与自动替换**

   * 用户先发现问题，而不是系统

### 面试一句话总结（非常好用）

> **单机 EC2 的 uptime 可以很高，但因为没有冗余和自动恢复，用户感知到的 availability 非常低。**

---

## 🔑 再给你一条“高级加分句”

> **Availability = Uptime −（性能退化 + 人工操作 + 单点失败带来的不可用时间）。**

---

如果你愿意，下一步我可以继续加深👇

* 🧠 **用一张公式表，把 99 / 99.9 / 99.99% 对应到“每月/每年宕机时间”**
* 🔄 **对比：单 EC2 vs ALB + ASG vs ECS Fargate 的 availability 曲线**
* 🧪 **出 5 道“服务没挂但 SLA 违约”的真实事故题**
