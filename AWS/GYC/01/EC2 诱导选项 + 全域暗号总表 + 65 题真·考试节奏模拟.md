下面给你三件套（**全是 EC2 诱导选项** + **全域暗号总表** + **65 题真·考试节奏模拟**）。全程按 **SAA-C03 读题暗号 → 秒选** 来设计。

---

# 🔥 A) “全是 EC2 诱导选项”Networking/Storage/DB/HA 地狱小卷（20 题）

> 规则：每题 **20 秒**。看到 “EC2 自建/脚本/cron/自搭代理” 基本都是坑。
> **先做题，不看答案。**答案在本节末尾。

### Q1

公司要把 **S3 私有桶**提供给 CloudFront 全球加速访问，且不能公开桶。
A. 在 EC2 上做反向代理转发到 S3
B. 给 S3 开 public-read，再用 WAF
C. **CloudFront + OAC/OAI + S3 Bucket Policy**
D. 用 NAT Gateway 让 CloudFront 走私网

### Q2

私有子网 EC2 需要访问 S3，要求 **最低成本**、不走公网。
A. EC2 绑定 EIP
B. NAT Gateway
C. **S3 Gateway VPC Endpoint**
D. EC2 上装 Squid 代理

### Q3

私有子网 ECS/EC2 拉取 **ECR 镜像**失败（无互联网）。
A. NAT Gateway
B. **Interface VPC Endpoint：ECR API + ECR DKR（以及 S3 相关如需）**
C. S3 Gateway Endpoint
D. 在 EC2 上跑自建 registry

### Q4

用户上传图片到 S3 后要触发缩略图生成，要求异步、可扩展。
A. EC2 上 cron 每分钟扫 S3
B. ALB 后面一组 EC2 同步生成
C. **S3 Event → Lambda（或 SQS+Lambda）**
D. 让客户端直接生成缩略图

### Q5

RDS 需要 **高可用自动故障转移**，不要求读扩展。
A. 两台 EC2 自建 MySQL 主从
B. **RDS Multi-AZ**
C. RDS Read Replica
D. 只做 EBS Snapshot

### Q6

数据库读压力大，主要目标是 **读性能提升**。
A. 提升主库实例规格
B. **RDS Read Replica / Aurora Reader**
C. Multi-AZ
D. EC2 上做本地缓存文件

### Q7

“亚毫秒延迟”“热门 Key-Value 访问”
A. RDS + bigger instance
B. DynamoDB（不加任何组件）
C. **ElastiCache / DynamoDB DAX**
D. EC2 + 本地 HashMap 缓存

### Q8

多个系统要把事件同时推给多个订阅方（fan-out）。
A. EC2 自建 MQ
B. **SNS（可再接 SQS/Lambda）**
C. SQS
D. Step Functions

### Q9

应用经常突发流量，要求把耗时任务从 Web 层解耦。
A. 把逻辑放到 EC2 后台线程
B. **SQS + Worker（Lambda/ASG）**
C. CloudFront
D. RDS Multi-AZ

### Q10

跨 VPC 私网访问，**不同账号**，可控路由且可扩展到多 VPC。
A. VPC Peering（到处互连）
B. **Transit Gateway**
C. EC2 自建 VPN Hub
D. NAT Gateway

### Q11

同 VPC 不同子网 EC2 互相 ping 不通。
A. 立刻上 VPC Peering
B. **查 NACL/SG/Route Table**
C. 上 NAT Gateway
D. 换成更大 EC2

### Q12

要给全球用户提供静态内容加速，并防 DDoS、支持 TLS。
A. EC2 自建 Nginx CDN
B. **CloudFront + ACM + Shield/WAF**
C. 只用 ALB
D. 只用 Route 53

### Q13

需要“固定 IP + 超高性能 L4 负载均衡”。
A. ALB
B. **NLB**
C. CloudFront
D. EC2 自建 HAProxy

### Q14

仅允许企业办公网访问管理后台（IP 白名单），其他全部拒绝。
A. EC2 上写 iptables
B. **Security Group / NACL +（可配）WAF**
C. CloudFront
D. S3 Bucket Policy

### Q15

需要在不暴露公网的情况下管理私有子网实例（SSH 免开端口）。
A. Bastion EC2
B. **SSM Session Manager（配 IAM Role）**
C. 给实例配 EIP
D. VPN Client

### Q16

日志要集中检索 + 仪表盘，尽量少运维。
A. EC2 自建 ELK
B. **CloudWatch Logs + OpenSearch（或 CloudWatch + OpenSearch Serverless）**
C. 把日志写到本地文件
D. RDS 存日志

### Q17

S3 里对象误删要快速恢复，且要防勒索覆盖。
A. EC2 定时备份
B. **Versioning + MFA Delete/Object Lock（视要求）**
C. EBS Snapshot
D. CloudFront Cache

### Q18

公司要把本地数据中心私网稳定接入 AWS，低抖动。
A. Site-to-Site VPN
B. **Direct Connect**
C. EC2 自建隧道
D. CloudFront

### Q19

HTTP API 需要鉴权、限流、WAF 防护，最少运维。
A. EC2 自建网关
B. **API Gateway + WAF + Cognito/IAM**
C. ALB + EC2
D. Route 53

### Q20

需要跨 Region 灾备，RPO 低，数据库层优先。
A. EC2 手工 rsync
B. **Aurora Global Database / 跨区只读副本 + 复制策略**
C. 单 Region Multi-AZ
D. 只做 Snapshot 每天一次

### ✅ 小卷答案（只给结论 + 一句暗号）

1C(OAC/OAI) 2C(S3 Gateway EP) 3B(ECR=Interface EP) 4C(Event-driven) 5B(HA=Multi-AZ)
6B(Read scaling=Replica) 7C(Sub-ms=Cache/DAX) 8B(Fan-out=SNS) 9B(Decouple=SQS) 10B(TGW)
11B(先查 NACL/SG/RT) 12B(CF+ACM+WAF/Shield) 13B(NLB 固定IP/L4) 14B(网络层控制) 15B(SSM)
16B(托管可观测) 17B(S3 Versioning/Lock) 18B(DX 稳定) 19B(API GW 托管) 20B(跨区低RPO=Global/Replica)

---

# 🧠 B) SAA-C03 全域「暗号 → 服务 → 架构」总表（最终版）

> 用法：做题只抓暗号列，**3 秒落到服务**，再落到架构动作。

## 1) 网络与访问

| 暗号                                        | 秒选服务                          | 架构动作            |
| ----------------------------------------- | ----------------------------- | --------------- |
| private subnet → S3                       | S3 **Gateway Endpoint**       | 省 NAT、私网直连      |
| private subnet → DynamoDB                 | DynamoDB **Gateway Endpoint** | 省 NAT、私网直连      |
| private subnet → AWS API（ECR/SSM/Secrets） | **Interface Endpoint**        | ENI 私网访问        |
| private subnet → internet                 | **NAT Gateway**               | 出站专用；不能入站       |
| inbound from internet                     | **ALB/NLB 公网**                | 进站必须公网入口        |
| 固定 IP / TCP/UDP                           | **NLB**                       | L4、static IP    |
| HTTP/HTTPS / 路径路由                         | **ALB**                       | L7、TLS 终止       |
| 多 VPC 多账号互联                               | **Transit Gateway**           | Hub-and-spoke   |
| 全球加速静态内容                                  | **CloudFront**                | CDN + TLS + WAF |
| 只允许办公网访问                                  | SG/NACL/WAF                   | IP allowlist    |

## 2) 高可用与扩展

| 暗号                      | 秒选服务             | 架构动作             |
| ----------------------- | ---------------- | ---------------- |
| HA / automatic failover | **Multi-AZ**     | 同步备用、自动切换        |
| read heavy              | **Read Replica** | 读扩展、异步复制         |
| unpredictable spikes    | **ASG + ALB**    | 弹性伸缩             |
| 解耦、削峰                   | **SQS**          | Web 快返，worker 扩展 |
| fan-out 广播              | **SNS**          | 一发多收（可接 SQS）     |
| workflow 编排             | Step Functions   | 状态机、重试、分支        |

## 3) 数据库与缓存

| 暗号              | 秒选服务              | 架构动作      |
| --------------- | ----------------- | --------- |
| 关系型事务           | RDS/Aurora        | ACID、SQL  |
| 超高吞吐 KV         | DynamoDB          | 分区键设计     |
| sub-millisecond | ElastiCache / DAX | 内存/加速层    |
| 全局低延迟跨区写读       | Aurora Global DB  | 跨区复制+快速切换 |

## 4) 存储与交付

| 暗号                        | 秒选服务    | 架构动作      |
| ------------------------- | ------- | --------- |
| static files / durability | S3      | 版本、生命周期   |
| 共享文件系统                    | EFS     | 多实例共享     |
| 高性能块存储                    | EBS     | 单 AZ、快照备份 |
| 归档低成本                     | Glacier | 取回慢/便宜    |

## 5) 安全与身份

| 暗号                    | 秒选服务            | 架构动作         |
| --------------------- | --------------- | ------------ |
| least privilege       | IAM Policy/Role | 最小权限         |
| temporary credentials | STS / Role      | 不用长钥匙        |
| secret rotation       | Secrets Manager | 自动轮换         |
| DDoS / web attacks    | Shield/WAF      | L3/4 + L7 防护 |

## 6) 观测与运维

| 暗号             | 秒选服务                         | 架构动作   |
| -------------- | ---------------------------- | ------ |
| metrics/alarms | CloudWatch                   | 告警、仪表盘 |
| logs 集中检索      | CloudWatch Logs / OpenSearch | 查询+可视化 |
| 无需开 SSH 管理     | SSM Session Manager          | 免暴露端口  |

---

# 🎯 C) 65 题完整模拟：90 分钟“时间压迫”节奏（含答案与速解）

## ⏱️ 考试节奏（照着做）

* 总时长：**90 分钟**
* 目标：**第 60 分钟做完 50 题**，留 30 分钟回看
* Checkpoint：

  * **T+15min：做完 12 题**
  * **T+30min：做完 25 题**
  * **T+60min：做完 50 题**
  * **T+90min：交卷**

> 我先给你 **65 题题干（Q1–Q65）**，然后给 **Answer Key + 一句暗号速解**（避免你边做边偷看）。

---

## ✅ 65 题题干（每题单选 A-D）

### Q1

私有子网实例访问 S3，要求最低成本与更高吞吐。
A NAT  B IGW  C **Gateway Endpoint**  D EC2 Proxy

### Q2

私有子网拉 ECR 镜像。
A S3 EP  B **Interface Endpoint**  C IGW  D EC2 NAT instance

### Q3

需要 HTTP 路径路由 / host-based routing。
A NLB  B **ALB**  C GWLB  D EC2 Nginx

### Q4

需要 TCP + 静态 IP + 超高性能。
A **NLB**  B ALB  C CloudFront  D EC2 HAProxy

### Q5

RDS 要自动 failover。
A Replica  B **Multi-AZ**  C 更大实例  D Snapshot

### Q6

读流量爆炸，主库压力大。
A Multi-AZ  B **Read Replica**  C 更多存储  D EC2 缓存文件

### Q7

“sub-millisecond latency” 热点查询。
A RDS  B DynamoDB  C **ElastiCache/DAX**  D EC2 内存缓存

### Q8

异步削峰：Web 快速响应，后台慢处理。
A SNS  B **SQS**  C Kinesis Firehose  D EC2 cron

### Q9

事件要同时推送多个下游。
A **SNS**  B SQS  C FIFO SQS  D EC2 推送脚本

### Q10

同 VPC 不同子网通信失败。
A TGW  B **检查 SG/NACL/路由**  C NAT  D 换实例

### Q11

跨账号多 VPC 互联，未来要加很多 VPC。
A Peering mesh  B **Transit Gateway**  C NAT  D EC2 VPN Hub

### Q12

需要全球静态内容加速 + TLS + WAF。
A ALB  B **CloudFront + ACM + WAF**  C EC2 CDN  D Route53

### Q13

S3 桶必须私有，但 CloudFront 要访问。
A 公开桶  B **OAC/OAI + Bucket Policy**  C NAT  D EC2 代理

### Q14

仅允许公司公网 IP 访问管理站点。
A 仅 WAF  B **SG/NACL allowlist（可叠 WAF）**  C CloudFront  D EC2 iptables

### Q15

私有子网免 SSH 管理实例。
A Bastion  B **SSM Session Manager**  C EIP  D Client VPN

### Q16

本地机房稳定低抖动连 AWS。
A VPN  B **Direct Connect**  C EC2 隧道  D CF

### Q17

跨 Region DB 灾备，低 RPO。
A 每日快照  B **Aurora Global/跨区复制**  C Multi-AZ  D EC2 rsync

### Q18

S3 误删要快速恢复并防覆盖。
A EC2 备份  B **Versioning/Object Lock**  C EBS  D CF

### Q19

需要 API 鉴权+限流+最少运维。
A EC2 网关  B **API Gateway**  C ALB  D Route53

### Q20

想做可审计的最小权限访问。
A Root key  B **IAM Role/Policy**  C 共享账号  D Access key 放代码里

---

### Q21

私有子网访问 Secrets Manager。
A NAT  B **Interface Endpoint**  C Gateway EP  D EC2 代理

### Q22

要把大量日志集中检索分析，少运维。
A EC2 ELK  B **CloudWatch Logs + OpenSearch**  C RDS  D S3 静态

### Q23

需要把对象存储静态网站全球分发。
A ALB  B **S3 + CloudFront**  C EC2 nginx  D EFS

### Q24

共享文件系统给多台 EC2 同时读写。
A EBS  B **EFS**  C S3  D Instance store

### Q25

块存储给单台 EC2，低延迟。
A **EBS**  B EFS  C S3  D Glacier

### Q26

归档数据，最低成本，可接受取回慢。
A S3 Standard  B **Glacier**  C EBS  D EFS

### Q27

需要跨 AZ 自动扩展 Web 层。
A 单 EC2  B **ALB + ASG 跨 AZ**  C 更大实例  D 手工扩容

### Q28

突发写入，保证消息严格有序一次且仅一次（业务需要）。
A SNS  B **SQS FIFO**  C 标准 SQS  D EC2 queue

### Q29

数据流实时分析（秒级），可扩展。
A SQS  B **Kinesis Data Streams**  C SNS  D EC2 tail -f

### Q30

对象上传后要触发处理链路，尽量无服务器。
A EC2 cron  B **S3 Event + Lambda**  C 手动  D RDS trigger

---

### Q31

需要对公网应用防 SQLi/XSS。
A Shield  B **WAF**  C IAM  D SG

### Q32

L3/L4 DDoS 防护增强。
A **Shield**  B WAF  C NACL  D IAM

### Q33

需要私网 DNS 解析、服务发现。
A Route53 Public  B **Route53 Private Hosted Zone**  C EC2 hosts  D CloudFront

### Q34

两个 VPC 少量互联、简单点。
A **VPC Peering**  B TGW  C NAT  D EC2 VPN

### Q35

跨 VPC 通信但 CIDR 重叠。
A Peering  B **TGW（仍需处理重叠：如 NAT/重规划/多路由策略）**  C IGW  D EC2 proxy

### Q36

需要把第三方 SaaS 的 webhook 安全接入内部系统，异步处理。
A EC2 同步处理  B **API GW → SQS → Lambda**  C 直连 RDS  D CloudFront

### Q37

公司要求所有出站流量可审计、可控。
A 每台 EC2 自己上网  B **集中 NAT + Flow Logs + egress 控制**  C IGW  D EC2 代理随意

### Q38

跨 AZ 流量费很高，ALB 后端不均匀。
A 更大 EC2  B **启用 ALB Cross-Zone LB（视题干）**  C NAT  D Peering

### Q39

RDS 连接超时，但实例 CPU 很低。
A 升级实例  B **查 SG/NACL/路由/端口**  C 换 Aurora  D EC2 重启

### Q40

需要数据库凭证自动轮换。
A 放 Parameter Store 明文  B **Secrets Manager rotation**  C 写在代码里  D EC2 crontab

---

### Q41

多账户统一安全基线和审计。
A 每个账号手工  B **Organizations + SCP + CloudTrail**  C 只靠 IAM user  D EC2 脚本巡检

### Q42

大量小对象频繁读取，全球延迟高。
A RDS  B **CloudFront 缓存**  C EC2 缓存机  D EBS

### Q43

需要把 S3 公共访问彻底阻断。
A SG  B **S3 Block Public Access**  C NACL  D Shield

### Q44

静态网站需要自定义域名 HTTPS。
A ALB  B **CloudFront + ACM**  C EC2 nginx  D Route53 only

### Q45

应用需要 WebSocket。
A NLB  B **ALB（支持 WebSocket）**  C CloudFront only  D EC2 proxy

### Q46

要最少运维跑容器、自动扩缩。
A 自建 k8s  B **ECS Fargate**  C 单 EC2  D 手工 Docker

### Q47

批处理作业需要按队列长度扩展 worker。
A 固定 EC2  B **CloudWatch 指标 + ASG/Lambda 并发**  C 只加 RDS  D 手工

### Q48

跨 Region 静态内容就近访问、DNS 智能路由。
A 单 A 记录  B **Route53 Latency/Geo routing + 多 CF**  C NACL  D EC2 DNS

### Q49

需要记录所有 API 调用审计。
A CloudWatch  B **CloudTrail**  C Inspector  D GuardDuty

### Q50

检测异常行为、可疑 API 调用。
A Shield  B **GuardDuty**  C WAF  D SG

---

### Q51

需要按对象前缀自动转存到低成本存储。
A EC2 脚本  B **S3 Lifecycle**  C EBS  D EFS

### Q52

数据库要按时间点恢复。
A 只靠快照  B **RDS PITR（自动备份）**  C 复制文件  D EC2 dump 手工

### Q53

全托管消息流与事件总线。
A SQS  B **EventBridge**  C SNS  D EC2 MQ

### Q54

要让私有子网实例访问公网，但希望每 AZ 最优路径。
A 单 NAT  B **每 AZ 一个 NAT + 路由表**  C IGW  D EC2 NAT instance

### Q55

客户要 L7 基于 header 的路由。
A NLB  B **ALB**  C Route53  D EC2 nginx

### Q56

服务间需要 mTLS/证书管理最少运维。
A 手工发证书  B **ACM/Private CA（视题）**  C EC2 openssl  D S3

### Q57

想把内部服务暴露给合作伙伴，限制到固定 IP。
A 公开一切  B **API GW/ALB + allowlist + WAF**  C 直连 RDS  D NAT

### Q58

要求“应用层缓存”和“数据库读扩展”二选一更适合。题干：读热点非常集中。
A Read Replica  B **ElastiCache**  C Multi-AZ  D EC2 文件缓存

### Q59

题干：写入多、需要强一致事务。
A DynamoDB  B **Aurora/RDS**  C S3  D ElastiCache

### Q60

题干：IoT 海量设备上报，流式接入与缓冲。
A SQS  B **Kinesis / IoT Core（视题）**  C SNS  D EC2 socket server

---

### Q61

需要把 VPC 流量日志用于安全分析。
A CloudTrail  B **VPC Flow Logs**  C WAF  D Inspector

### Q62

多 Region 主动-主动写入且冲突可接受，追求极低延迟。
A RDS  B **DynamoDB Global Tables**  C Multi-AZ  D EC2 MySQL

### Q63

需要“单机房断电也能继续”，且应用跨 AZ。
A 单 AZ  B **Multi-AZ + 跨 AZ 部署**  C 更大 EC2  D 手工备份

### Q64

需要用最少代码把任务按步骤重试、失败分支、人工介入。
A SQS  B **Step Functions**  C SNS  D EC2 脚本

### Q65

题干：只想让私有子网访问 AWS 公共服务（不访问互联网），最省钱。
A NAT  B IGW  C **VPC Endpoints**  D EC2 代理

---

## ✅ Answer Key（含“一句暗号速解”）

> 你做完再对答案。这里给 **答案 + 最短暗号**（不讲长篇）。

1C(S3私网=GatewayEP) 2B(ECR=InterfaceEP) 3B(HTTP路由=ALB) 4A(L4+静态IP=NLB) 5B(HA=MultiAZ)
6B(读扩展=Replica) 7C(sub-ms=Cache/DAX) 8B(削峰=SQS) 9A(fan-out=SNS) 10B(先查SG/NACL/RT)
11B(多VPC=TGW) 12B(CDN+TLS+WAF=CF) 13B(OAC/OAI) 14B(IP白名单=SG/NACL) 15B(免SSH=SSM)
16B(稳定专线=DX) 17B(低RPO跨区=Aurora Global/Replica) 18B(S3防误删=Versioning/Lock) 19B(托管API=APIGW) 20B(最小权限=Role/Policy)

21B(API私网=InterfaceEP) 22B(托管日志检索) 23B(S3+CF) 24B(共享文件=EFS) 25A(块存储=EBS)
26B(归档=Glacier) 27B(弹性=ALB+ASG) 28B(有序去重=FIFO) 29B(实时流=Kinesis) 30B(S3事件=Lambda)

31B(SQLi/XSS=WAF) 32A(L3/4 DDoS=Shield) 33B(私有DNS=PHZ) 34A(少量互联=Peering) 35B(大规模/复杂=TGW)
36B(API入口+异步=SQS) 37B(集中出站+审计) 38B(跨AZ成本/不均=Cross-zone) 39B(CPU低仍超时=网络规则) 40B(轮换=SecretsMgr)

41B(多账号治理=Orgs+SCP) 42B(全球读慢=CloudFront) 43B(S3禁公网=Block Public Access) 44B(自定义域HTTPS=CF+ACM) 45B(WebSocket=ALB)
46B(少运维容器=Fargate) 47B(按队列扩=指标驱动) 48B(就近路由=Route53策略) 49B(审计=CloudTrail) 50B(异常检测=GuardDuty)

51B(生命周期=Lifecycle) 52B(时间点恢复=PITR) 53B(事件总线=EventBridge) 54B(每AZ NAT 最优) 55B(L7 header=ALB)
56B(证书托管=ACM/PrivateCA) 57B(对外受控入口=GW/ALB+allowlist) 58B(热点集中=Cache) 59B(强一致事务=RDS/Aurora) 60B(流式接入=Kinesis/IoT)

61B(流量日志=FlowLogs) 62B(多区低延迟写=Global Tables) 63B(跨AZ容灾=MultiAZ+多AZ部署) 64B(编排重试=StepFunctions) 65C(只访问AWS服务=Endpoints)

---

如果你想把“时间压迫”再做得更像真考场，我可以再给你一个 **二刷模式**（更狠）：

* 把 65 题改成 **“题干更短 + 选项更像”**
* 加入 **10 道双陷阱题（同一句话能同时指向两服务）**
* 生成一张 **一页《暗号反射表》**（可直接打印）
