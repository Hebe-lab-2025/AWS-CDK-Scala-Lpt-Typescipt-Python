好，直接**拉满考试强度**。下面这一轮是 **SAA-C03「反直觉升级版」终极训练包**，目标只有一个：**看到坑也不犹豫，30 秒内秒选**。

---

# 🔁 Part 1：30 秒 × 10 轮「三服务混合反射训练」

> **规则**：
>
> * 每题 ≤ 3 行
> * 只抓 **暗号词**
> * 不允许设计架构，只选 **AWS 已有托管解**

---

### 🔥 Round 1

**关键词**：multiple subscribers + retry + no message loss
✅ **SNS → SQS → Lambda**
❌ SNS → Lambda（会丢）

---

### 🔥 Round 2

**关键词**：strict order + exactly once
✅ **SQS FIFO**
❌ Standard（再便宜也错）

---

### 🔥 Round 3

**关键词**：burst traffic + unpredictable + backend overload
✅ **SQS buffer + Lambda auto scale**
❌ 直接 ASG 扩容 EC2

---

### 🔥 Round 4（反直觉）

**关键词**：Lambda failed once, message processed twice
✅ **幂等性问题（不是 Retry bug）**
❌ Lambda bug（错因）

---

### 🔥 Round 5

**关键词**：fan-out + decouple + different processing speed
✅ **SNS → multiple SQS**
❌ 一个 SQS 给所有消费者

---

### 🔥 Round 6

**关键词**：throughput extremely high, order not important
✅ **SQS Standard**
❌ FIFO（会被限速）

---

### 🔥 Round 7

**关键词**：poison message + repeated failure
✅ **DLQ**
❌ 增加 Visibility Timeout（治标）

---

### 🔥 Round 8（反直觉）

**关键词**：retry with backoff
✅ **SQS visibility timeout + Lambda retry**
❌ SNS retry policy（不持久）

---

### 🔥 Round 9

**关键词**：scale workers automatically based on load
✅ **SQS queue depth → Lambda concurrency**
❌ 手动设置并发

---

### 🔥 Round 10（考试总结题）

**关键词**：reliable, scalable, loosely coupled
✅ **SNS + SQS + Lambda**
❌ EC2 + cron + script

---

📌 **一句话验收**

> SNS = 广播
> SQS = 缓冲 + 稳定
> Lambda = 计算 + 自动扩

---

# 📄 Part 2：《SAA-C03 决策树 PDF（考试版）》——内容已给你

> 你现在 **不需要解释**，只需要 **条件反射**
> 下面就是 PDF 的**完整结构（一页一模块）**

---

## 🧠 决策树 1：Messaging 总控

```text
事件发生？
 ├─ 要广播？ ──> SNS
 │               └─ 要保证不丢？ ──> 接 SQS
 │                                   └─ 要计算？ ──> Lambda
 └─ 不广播？
     └─ 要解耦/削峰？ ──> SQS → Lambda
```

---

## 🧠 决策树 2：SQS 类型选择

```text
要顺序？
 ├─ Yes ──> FIFO
 │          └─ 要 exactly-once？（默认）
 └─ No
     └─ 要吞吐？ ──> Standard
```

---

## 🧠 决策树 3：Retry & Failure

```text
失败？
 ├─ 偶发 ──> Retry
 ├─ 多次 ──> DLQ
 └─ 重复执行 ──> 幂等性问题（不是 AWS bug）
```

---

## 🧠 决策树 4：Auto Scaling

```text
流量突增？
 ├─ EC2 ──> ASG
 └─ 消息 ──> Queue depth 驱动 Lambda
```

---

📌 **PDF 最后一页：5 行必背口诀**

> “广播用 SNS
> 缓冲用 SQS
> 顺序才 FIFO
> 失败进 DLQ
> Lambda 必须幂等”

---

# 🕳️ Part 3：「故意挖坑」高难模拟题（反直觉）

### 🕳️ 坑 1

**题干**：保证 exactly once
**正确理解**：
✅ FIFO + 去重
❌ Lambda 本身保证（错）

---

### 🕳️ 坑 2

**题干**：消息处理慢
**正确动作**：
✅ 扩消费者（Lambda 并发）
❌ 增大 Visibility Timeout

---

### 🕳️ 坑 3

**题干**：消息顺序乱了
**真因**：
✅ 用了 Standard
❌ 网络延迟（烟雾弹）

---

### 🕳️ 坑 4

**题干**：Lambda 被多次触发
**根因**：
✅ At-least-once 语义
❌ AWS bug

---

### 🕳️ 坑 5（必考）

**题干**：cost-effective + reliable
**秒选**：
✅ SQS Standard
❌ FIFO（没说顺序）

---

# 🎯 你现在的状态

如果你能 **不用回看**，直接选出上面 80% 的答案 ——
👉 **Messaging 这一章已经是送分题**

---

## 🚀 下一步（建议顺序）

1️⃣ **来一整套 65 题 SAA-C03 真考风格模拟卷**
2️⃣ **只练“反直觉陷阱”的终极错题本**
3️⃣ **把 Compute + LB + Messaging 串成一张总决策树**

你点一个，我继续直接给。

