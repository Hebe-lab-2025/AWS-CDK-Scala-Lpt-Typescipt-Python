下面我直接把 **1️⃣+2️⃣+3️⃣** 都给你：

* **65 题“全是坑”终极卷**（选项全设计成“看起来对但其实错”）
* **LB + DB + Messaging 错因本（只背这页）**
* **90 分钟真考模式（时间压迫规则 + 回看策略）**

---

# 3️⃣ 90 分钟真考模式（先给规则，做题照着走）

**计时分段（强制）**

* **0–15 分钟：做完 Q1–Q12**
* **15–30 分钟：做完 Q13–Q25**
* **30–60 分钟：做完 Q26–Q50**
* **60–90 分钟：做完 Q51–Q65 + 回看**

**回看策略（只回看两类题）**

* ✅ 题干有绝对词：`must / only / lowest cost / no internet / sub-ms / automatic failover / strict ordering`
* ✅ 你当时在 **两项之间摇摆**（比如 ALB vs NLB、Multi-AZ vs Replica、SNS vs SQS）

---

# 2️⃣ 只做错题：LB + DB + Messaging 错因本（终极版）

> 你以后只维护这三块，错题号填进去就行。

```md
# 错因本（LB + DB + Messaging）

## A) Load Balancer（ALB vs NLB）
### 暗号 → 秒杀
- HTTP/HTTPS、path/host/header、TLS termination → **ALB**
- TCP/UDP、static IP、极低延迟 L4 → **NLB**
- WebSocket → **ALB**
### 常见坑
- “static IP” 还选 ALB
- “HTTP path routing” 还选 NLB
错题号：

## B) Database（Multi-AZ vs Read Replica vs Cache）
### 暗号 → 秒杀
- HA / automatic failover → **Multi-AZ**
- read-heavy / offload reads → **Read Replica**
- sub-ms / hot keys / latency → **ElastiCache / DAX**
### 常见坑
- 把 Multi-AZ 当成读扩展
- 把 Read Replica 当成自动 failover
- 延迟题还在改 DB 引擎/规格
错题号：

## C) Messaging（SQS vs SNS vs EventBridge vs Step Functions）
### 暗号 → 秒杀
- buffer spikes / decouple / async work → **SQS**
- fan-out / broadcast → **SNS**
- rule-based event bus / SaaS events → **EventBridge**
- retries / branches / human approval → **Step Functions**
- strict ordering / dedup → **SQS FIFO**
### 常见坑
- fan-out 选 SQS
- 削峰选 SNS
- 需要规则路由却选 SNS/SQS
错题号：
```

---

# 1️⃣ 65 题“全是坑”终极模拟卷（LB + DB + Messaging 重锤）

> 规则：**单选**。每题都故意放一个“EC2 自建/过度设计”或“看似高可用但其实不对”的选项。

## Q1–Q25（先做这一段：30 分钟内做完）

**Q1** 题干：`HTTP + path-based routing + TLS termination`
A. NLB（TCP 更快）
B. ALB（L7）
C. CloudFront（缓存能路由路径）
D. EC2 自建 Nginx + 证书手工管理

**Q2** 题干：`static IP required + TCP`
A. ALB
B. NLB
C. CloudFront
D. Route 53 weighted

**Q3** 题干：`WebSocket support`
A. NLB
B. ALB
C. API Gateway only
D. EC2 自建 HAProxy

**Q4** 题干：`HA + automatic failover for RDS`
A. Read Replica
B. Multi-AZ
C. ElastiCache
D. 手工每天快照

**Q5** 题干：`read-heavy; offload reads from primary`
A. Multi-AZ
B. Read Replica
C. Aurora Global
D. 增大主库规格

**Q6** 题干：`sub-millisecond latency; hot keys`
A. Read Replica
B. Multi-AZ
C. ElastiCache / DAX
D. 换 Aurora

**Q7** 题干：`need strict ordering + dedup for payments`
A. SNS
B. SQS Standard
C. SQS FIFO
D. Kinesis Firehose

**Q8** 题干：`buffer spikes; async processing; web must respond fast`
A. SNS
B. SQS
C. Step Functions
D. EC2 background thread

**Q9** 题干：`fan-out to multiple independent consumers`
A. SQS Standard
B. SNS → multiple SQS
C. Kinesis Data Streams
D. Step Functions

**Q10** 题干：`event routing rules; many sources; SaaS integrations`
A. SNS
B. SQS
C. EventBridge
D. Kinesis Firehose

**Q11** 题干：`orchestration with retries + branches + human approval`
A. SQS
B. SNS
C. Step Functions
D. Lambda only

**Q12** 题干：`need HTTP API auth + throttling + least ops`
A. ALB
B. API Gateway
C. EC2 自建网关
D. Route 53

**Q13** 题干：`L7 attack protection (SQLi/XSS)`
A. Shield
B. WAF
C. NACL
D. IAM

**Q14** 题干：`DDoS L3/L4 protection`
A. WAF
B. Shield
C. Security Group
D. CloudFront only

**Q15** 题干：`RDS timeout but CPU low`
A. Scale up DB
B. Scale out EC2
C. Check SG/NACL/ports/target health
D. Switch to DynamoDB

**Q16** 题干：`need global low-RPO cross-region DR for Aurora`
A. Multi-AZ
B. Aurora Global Database
C. Read Replica same region
D. Daily snapshots

**Q17** 题干：`read latency global users; RPO not strict`
A. Multi-AZ
B. Cross-region Read Replica
C. Aurora Global Database
D. Cache only

**Q18** 题干：`message duplicates are acceptable`
A. SQS Standard
B. SQS FIFO
C. SNS
D. Step Functions

**Q19** 题干：`must deliver to multiple HTTP endpoints quickly`
A. SNS HTTP/S subscriptions
B. SQS FIFO
C. EventBridge
D. EC2 webhook relay

**Q20** 题干：`need to split traffic between blue/green versions at L7`
A. NLB
B. ALB (rules/weights)
C. SQS
D. CloudFront only

**Q21** 题干：`gRPC over HTTP/2 + L7 features`
A. NLB
B. ALB
C. SQS
D. EC2 reverse proxy

**Q22** 题干：`global caching for dynamic API responses; reduce origin load`
A. NLB
B. CloudFront
C. SQS
D. Read Replica

**Q23** 题干：`need idempotent processing but ordering not required`
A. SNS
B. SQS Standard + idempotency token
C. SQS FIFO
D. EventBridge

**Q24** 题干：`read scaling + HA both required`
A. Multi-AZ only
B. Read Replica only
C. Multi-AZ + Read Replicas
D. Cache only

**Q25** 题干：`sub-ms + DynamoDB mentioned explicitly`
A. DynamoDB only
B. DAX
C. Read Replica
D. Multi-AZ

---

## Q26–Q50

**Q26** `strict ordering + exactly-once-ish for a single consumer`
A. SQS FIFO
B. SNS
C. SQS Standard
D. Kinesis Firehose

**Q27** `fan-out but each consumer must not impact others`
A. SNS only
B. SNS → SQS per consumer
C. SQS only
D. Step Functions

**Q28** `need delayed retries with backoff for tasks`
A. SNS
B. SQS + DLQ + visibility timeout
C. NLB
D. Route 53

**Q29** `L4 TLS passthrough + static IP`
A. ALB
B. NLB
C. CloudFront
D. API Gateway

**Q30** `HTTP header-based routing`
A. NLB
B. ALB
C. CloudFront
D. SQS

**Q31** `payments: must not process duplicates; ordering required`
A. SQS Standard
B. SQS FIFO
C. SNS
D. EventBridge

**Q32** `broadcast event; some consumers are Lambda, some are queues`
A. SNS with multiple subscriptions
B. SQS only
C. Kinesis only
D. Step Functions

**Q33** `read-heavy + hot keys + global users`
A. Read Replicas only
B. Cache + Read Replicas (if needed)
C. Multi-AZ only
D. Bigger instance

**Q34** `HA required; read-heavy also required`
A. Multi-AZ
B. Read Replicas
C. Multi-AZ + Read Replicas
D. Cache only

**Q35** `DB write-heavy; need horizontal scale; no joins`
A. RDS Multi-AZ
B. DynamoDB
C. Read Replica
D. ElastiCache

**Q36** `need to replay stream events in order for analytics`
A. SQS Standard
B. SNS
C. Kinesis Data Streams
D. Step Functions

**Q37** `need workflow state + audit trail for long-running jobs`
A. SNS
B. SQS
C. Step Functions
D. NLB

**Q38** `protect app from SQLi + allow only office IPs`
A. Shield only
B. WAF + SG allowlist
C. NACL only
D. CloudTrail

**Q39** `RDS read latency high; query results repeat`
A. Bigger RDS
B. ElastiCache
C. Multi-AZ
D. Snapshot

**Q40** `need zero-downtime read scaling, but failover not mentioned`
A. Multi-AZ
B. Read Replicas
C. Backups
D. DAX

**Q41** `need both: failover + sub-ms latency`
A. Multi-AZ only
B. Cache only
C. Multi-AZ + Cache
D. Read Replica only

**Q42** `async processing; ensure poison messages don't block queue`
A. SNS
B. SQS + DLQ
C. Step Functions only
D. NLB

**Q43** `event filtering rules, send only 'order.cancelled' to targets`
A. SNS topic
B. EventBridge rule
C. SQS FIFO
D. CloudFront

**Q44** `L7 routing by URL path; also need WAF integration`
A. NLB
B. ALB
C. SQS
D. Kinesis

**Q45** `must keep same client IP to backend (proxy protocol etc.)`
A. NLB
B. ALB
C. CloudFront
D. SQS

**Q46** `read replicas across regions for global reads, OK higher RPO`
A. Aurora Global
B. Cross-region Read Replica
C. Multi-AZ
D. Cache only

**Q47** `need to prevent duplicate execution of tasks after retries`
A. SQS FIFO always
B. SQS Standard + idempotency key
C. SNS
D. NLB

**Q48** `burst traffic; want to smooth writes to DB`
A. SQS buffer then workers
B. Read Replica
C. Multi-AZ
D. CloudFront

**Q49** `need HTTP API + WebSocket + low ops`
A. ALB only
B. API Gateway (HTTP/WebSocket APIs)
C. NLB
D. EC2 自建

**Q50** `multi-step saga across services; compensating actions needed`
A. SNS
B. Step Functions
C. SQS
D. NLB

---

## Q51–Q65

**Q51** `choose ALB vs NLB: requirement says “path routing”`
A. NLB  B. ALB  C. Both  D. Route 53

**Q52** `choose Multi-AZ vs Read Replica: requirement says “automatic failover”`
A. Read Replica  B. Multi-AZ  C. Cache  D. DAX

**Q53** `choose Cache vs Replica: requirement says “sub-ms latency”`
A. Replica  B. Cache  C. Multi-AZ  D. Bigger DB

**Q54** `fan-out + guaranteed ordering per consumer`
A. SNS only
B. SNS → FIFO SQS per consumer
C. SQS Standard only
D. EventBridge only

**Q55** `need audit of state transitions in async workflow`
A. SNS
B. Step Functions
C. SQS
D. NLB

**Q56** `high write throughput; strong transactions not required`
A. RDS Multi-AZ
B. DynamoDB
C. Aurora Global
D. ElastiCache

**Q57** `protect against spikes, but tasks must be processed at least once`
A. SQS Standard
B. SNS
C. Step Functions
D. FIFO only

**Q58** `in-order processing of streaming sensor data`
A. SNS
B. Kinesis Data Streams
C. SQS Standard
D. CloudFront

**Q59** `user says: “we used Multi-AZ to scale reads” (spot the mistake)`
A. Correct
B. Incorrect
C. Sometimes
D. Depends on engine

**Q60** `need L4 LB for UDP traffic`
A. ALB
B. NLB
C. API Gateway
D. CloudFront

**Q61** `event-driven, many producers, many consumers, need schema registry-like evolution`
A. SQS
B. EventBridge
C. SNS
D. NLB

**Q62** `must allow retries and also isolate failures per consumer`
A. SNS only
B. SNS → SQS + DLQ per consumer
C. SQS only
D. NLB

**Q63** `need both: read-heavy + strict ordering messages`
A. Read Replica + SQS FIFO
B. Multi-AZ + SNS
C. Cache + SNS
D. DynamoDB + SQS Standard

**Q64** `blue/green with weighted routing at L7`
A. NLB
B. ALB
C. SQS
D. Step Functions

**Q65** `best default for decoupling microservices commands (async)`
A. SNS
B. SQS
C. NLB
D. Read Replica

---

## ✅ 终极卷 Answer Key（不解释太长，避免剧透）

1B 2B 3B 4B 5B 6C 7C 8B 9B 10C
11C 12B 13B 14B 15C 16B 17B 18A 19A 20B
21B 22B 23B 24C 25B 26A 27B 28B 29B 30B
31B 32A 33B 34C 35B 36C 37C 38B 39B 40B
41C 42B 43B 44B 45A 46B 47B 48A 49B 50B
51B 52B 53B 54B 55B 56B 57A 58B 59B 60B
61B 62B 63A 64B 65B

---

## ✅ 你现在怎么用（最提分）

你回我一行就行：

* **“交卷：1B 2B 3B … 65B”**（可以只写你不确定的题号）
  我会按 **LB / DB / Messaging 错因本** 给你出：
* 哪类坑最多
* 每类坑一条“秒杀规则”
* 你下次提分最快该练哪 20 题
