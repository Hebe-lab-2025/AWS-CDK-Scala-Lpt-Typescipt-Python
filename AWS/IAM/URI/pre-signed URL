ä¸‹é¢è¿™é¢˜è¦åšçš„æ˜¯ï¼šç»™ S3 é‡Œçš„ index.html ç”Ÿæˆä¸€ä¸ªä¸´æ—¶å¯è®¿é—®çš„é“¾æ¥ï¼ˆpre-signed URLï¼‰ã€‚

1) ç”Ÿæˆ pre-signed URLï¼ˆæ ¸å¿ƒå‘½ä»¤ï¼‰

æŠŠ BUCKET_NAME æ¢æˆä½ è‡ªå·±çš„ bucket åï¼š

aws s3 presign s3://BUCKET_NAME/index.html --expires-in 3600


--expires-in 3600 = é“¾æ¥æœ‰æ•ˆ 1 å°æ—¶ï¼ˆå•ä½ï¼šç§’ï¼‰

è¾“å‡ºä¼šæ˜¯ä¸€æ¡ https://... çš„ URL

2) åœ¨æµè§ˆå™¨æ‰“å¼€

æŠŠè¾“å‡ºçš„é‚£æ¡ URL å¤åˆ¶åˆ°æµè§ˆå™¨åœ°å€æ æ‰“å¼€å³å¯ã€‚

3) å¦‚æœä½ æƒ³å…ˆç¡®è®¤æ–‡ä»¶åœ¨ä¸åœ¨
aws s3 ls s3://BUCKET_NAME/

å¸¸è§å‘ï¼ˆä½ å¦‚æœé‡åˆ°å°±å¯¹ç…§ï¼‰

æŠ¥ AccessDeniedï¼šé€šå¸¸æ˜¯ ä½ å½“å‰ AWS å‡­è¯æ²¡æœ‰ s3:GetObject æƒé™ï¼ˆæˆ– bucket policy ç¦æ­¢ï¼‰ã€‚

æŠ¥ Unable to locate credentials / InvalidClientTokenIdï¼šè¯´æ˜ AWS CLI è¿˜æ²¡é…å¥½æœ‰æ•ˆ credentialsï¼ˆä½ å‰é¢å·²ç»é‡åˆ°è¿‡è¿™ç§ï¼‰ã€‚

ä½ æŠŠä½  bucket å + ä½ è·‘å®Œ aws s3 presign ... åçš„æŠ¥é”™è´´å‡ºæ¥ï¼Œæˆ‘å°±èƒ½ç›´æ¥å‘Šè¯‰ä½ è¯¥æ€ä¹ˆæ”¹ã€‚

Task 8: Generate a URL for the S3 Object
Use the presign command from aws s3 and pass the S3Uri of the file.

è¿™å¥è¯çš„æ„æ€å¾ˆç®€å•ï¼Œè¿™ä¸€é¢˜åªè¦ä½ åšä¸€æ¡å‘½ä»¤å°±å®Œæˆäº†ã€‚

ä½ è¦åšçš„äº‹ï¼ˆä¸€å¥è¯ï¼‰

ğŸ‘‰ ç”¨ aws s3 presignï¼ŒæŠŠ index.html çš„ S3 è·¯å¾„ï¼ˆS3Uriï¼‰ä¼ è¿›å»ï¼Œç”Ÿæˆä¸€ä¸ªä¸´æ—¶è®¿é—®é“¾æ¥ã€‚

æ­£ç¡®å‘½ä»¤ï¼ˆç›´æ¥å¯ç”¨ï¼‰

å‡è®¾ä½ çš„ bucket å« hebe-educative-2025ï¼š

aws s3 presign s3://hebe-educative-2025/index.html


å¦‚æœä½ æƒ³æ˜ç¡®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰ï¼š

aws s3 presign s3://hebe-educative-2025/index.html --expires-in 3600

æˆåŠŸæ—¶ä½ ä¼šçœ‹åˆ°ä»€ä¹ˆ

ç»ˆç«¯ä¼šè¾“å‡ºä¸€æ¡ç±»ä¼¼è¿™æ ·çš„é“¾æ¥ï¼š

https://hebe-educative-2025.s3.us-east-2.amazonaws.com/index.html?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=...


ğŸ‘‰ æŠŠè¿™æ¡ URL å¤åˆ¶åˆ°æµè§ˆå™¨æ‰“å¼€å³å¯

é‡è¦ç†è§£ï¼ˆè€ƒè¯• / é¢è¯•ä¸€å¥è¯ï¼‰

A pre-signed URL allows temporary access to a private S3 object using the permissions of the AWS credentials that generated it.
